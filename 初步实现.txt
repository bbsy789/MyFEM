初步实现：2021/10/13
王玮杰
1.完成非图形界面的有限元分析计算过程的编程。
2.不采用矩阵库（Eigen或MKL）加速矩阵运算,采用C语言实现（面向CSDN编程）。
3.纯C/C++语言编程，不考虑性能因素。
4.调试程序，并使计算例题最终结果误差不大。

程序设计的一般步骤：
1.问题确立：已知条件求未知条件
2.算法设计：
计算模型与计算精度；
选取适当的计算方法，如刚度矩阵，高斯消元法；
框图设计
3.编写程序：模块，变量，语句少，变量少。
4.程序调试：
语法检查
编译和试运行（溢出，分母被零除，死循环等问题的处理）
检查程序的正确性（做考题）
5.建立有关文件档案
与程序有关的原始资料（程序所有公式及推导，背景，参考文献）
程序本身的相关资料（框图，功能，变量或标识符）

一:空间桁架结构的程序设计
1.已知条件
平面桁架结构的程序设计需已知如下各种信息：
（1）结构信息：
节点总数：NW为unsigned int变量
单元总数：NU为unsigned int变量
节点整体坐标：POINT结构体，采用链表储存
约束信息：NR为unsigned int变量，表示受约束的节点总数
         使用二维unsigned int数组LR[2,NR],
                                LR[1,NR]的元素存放NI=1-NR约束节点的整体编号。
                                LR[2,NR]的元素存放与该节点相连接的单元总数。
         使用一维unsigned int数组LM[LIMIT],存放与NR个约束节点相连接的单元号，其中LIMIT为数组上限，后续可考虑使用可变数组
         使用二维double 数组DD[3,NR]，规定：若约束节点NI的某一方向无约束，则DD[1or2or3,NI]置较大的数，如10000。
                                DD[1,NR]的元素存放约束节点NI=1-NR的X方向的位移。
                                DD[2,NR]的元素存放约束节点NI=1-NR的Y方向的位移。
                                DD[3,NR]的元素存放约束节点NI=1-NR的Z方向的位移。
荷载向量：P(M)依次按节点编号分别储存沿整体坐标x，y，z方向的所有节点荷载值。其中M=2N为结构自由度总数。
（2）单元信息
单元节点编号、单元材料常数：ELEMENT结构体
                          需要储存单元NI=1-NU的i端和j端和k端的整体编号
                          同时储存NI=1-NU的单元材料常数。

2.待求信息：
节点位移：
单元内力：
支座反力：

二：空间刚架结构的程序设计
1.已知条件
平面刚架结构的程序设计需已知如下各种信息：
（1）结构信息：
节点总数：NW为unsigned int变量
单元总数：NU为unsigned int变量
节点整体坐标：POINT结构体，包含x,y，z坐标及节点编号。采用链表储存。
约束信息：NR为unsigned int变量，表示受约束的节点总数
         使用二维unsigned int数组LR[2,NR],
                                LR[1,ID]的元素存放边界受约束的节点ID(<=NR)的整体编号。
                                LR[2,NR]的元素存放与约束节点ID相连接的单元总数（单元总数大于1时仅限于刚节点）。
         使用一维unsigned int数组LM[LIMIT],存放与NR个约束节点相连接的单元号，其中LIMIT为数组上限，后续可考虑使用可变数组
         使用二维double 数组DD[3,NR]，规定：若约束节点NI的某一方向无约束，则DD[1or2or3,NI]置较大的数，如10000。
                                DD[1,NR]的元素存放约束节点ID的整体坐标的X方向的已知位移。
                                DD[2,NR]的元素存放约束节点ID的整体坐标的Y方向的已知位移。
                                DD[3,NR]的元素存放约束节点ID转动方向（绕z轴）的已知位移。
荷载向量：PI(M),NQ,NP(NQ),PQ(4,NQ)
         

          一维数组PI[M]依次按节点编号储存节点集中荷载（即Pix^I,Piy^I,Mi^H）,M=3N为结构自由度总数；
          NQ则为承担非节点荷载（即中间分布荷载）的单元总数；
          一维整形数组NP[NQ]依次存放NQ个承担非节点荷载的单元编号。
          二维double 数组PQ[4,NQ]的各元素PQ[1,IE]和PQ[2,IE]分别为IE(<=NQ)单元的分布荷载值qi和qj
          PQ[3,IE]和PQ[4,IE]为IE(<=NQ)单元所承担的集中荷载p及作用点坐标a（到i端的距离）

（2）单元信息
单元节点编号、单元材料常数：ELEMENT结构体
                          需要储存单元NI=1-NU的i端和j端的整体编号
                          同时储存NI=1-NU的单元材料常数。

2.待求信息：
节点位移：U（M)。依次按节点编号分别储存x，y方向线位移和转角，数组
单元内力：FN(NM)。按单元编号排列存放所有单元内力。
支座反力：RE(3,NR)。元素RE（1，ID），RE（2，ID）和RE（3，ID）分别存放约束节点ID的x，y，z三个方向的支座反力及约束力偶矩。

3.基本模块的实现
（1）单元刚度矩阵的生成模块
（2）矩阵运算模块。
（3）坐标转换模块。
（4）总刚矩阵的形成与储存模块。
（5）节点载荷形成模块
（6）边界条件
（7）求解模块
（8）求节点内力：变形内力，节点内力

要求：
1.编制空间梁单元程序；
2.处理固定位移，已知边界条件；
3.考虑集中力，集中力矩，均布力等载荷类型；
4.只考虑线性变形（小变形），不考虑剪切、主惯性轴的影响。

参考资料：
1.计算结构力学与程序设计 王新堂